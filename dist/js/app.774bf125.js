(function(){"use strict";var t={1025:function(t,e,s){var i=s(6369),n=s(5996),r=s(9425),a=(s(7024),function(){var t=this,e=t._self._c;return e("div",{staticClass:"d-flex flex-column px-2 px-md-4 mt-md-5 mt-4",attrs:{id:"app"}},[e("Settings"),e("NavList"),e("Totals")],1)}),o=[],l=s(3822),d=function(){var t=this,e=t._self._c;return e("b-card",{attrs:{"no-body":""}},[e("b-tabs",{attrs:{"nav-class":"nav-list",pills:"",card:"",vertical:""},scopedSlots:t._u([{key:"tabs-end",fn:function(){return[e("b-nav-item",{attrs:{role:"presentation",href:"#"},on:{click:function(e){e.preventDefault(),t.isCreateMode=!0}}},[t.isCreateMode?e("b-form-input",{attrs:{autofocus:"",placeholder:"Enter item name"},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:e.target.blur()},blur:t.handleAddList}}):e("b",[t._v("+")])],1)]},proxy:!0}]),model:{value:t.focusedIndex,callback:function(e){t.focusedIndex=e},expression:"focusedIndex"}},t._l(t.lists,(function(s,i){return e("b-tab",{key:s.id,attrs:{"nav-class":"w-100",title:s.name},scopedSlots:t._u([{key:"title",fn:function(){return[e("div",{staticClass:"title d-flex justify-content-between align-items-center"},[t.isEditMode&&t.focusedIndex===i?e("b-form-input",{attrs:{autofocus:"",value:s.name},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:e.target.blur()},blur:function(e){return t.handleEditListName(e,s.id)}}}):e("span",{staticClass:"text-truncate",on:{click:function(e){return t.handleEnableEditMode(i)}}},[t._v(" "+t._s(s.name)+" ")]),i===t.focusedIndex&&t.lists.length>1?e("b-icon",{staticClass:"ml-4",attrs:{icon:"trash","aria-label":"Remove list"},on:{click:function(e){return t.handleRemoveList(s.id)}}}):t._e()],1)]},proxy:!0}],null,!0)},[e("div",{staticClass:"table-responsive"},[e("b-table",{staticClass:"record-table",attrs:{hover:"",bordered:"",items:t.records,fields:t.fields},scopedSlots:t._u([{key:"cell(date)",fn:function(s){return[t.isRecordEditMode&&t.focusedRecordId===s.item.id?e("b-form-datepicker",{attrs:{autofocus:"","date-format-options":{year:"numeric",month:"numeric",day:"numeric"},locale:"pl-PL",value:s.item.date},on:{blur:function(e){return t.handleEditRecordDate(e,s.item.id)}}}):e("span",[t._v(t._s(new Date(s.item.date).toLocaleDateString("pl-PL")))])]}},{key:"cell(value)",fn:function(s){return[t.isRecordEditMode&&t.focusedRecordId===s.item.id?e("b-form-input",{staticClass:"value-input",attrs:{type:"number",value:s.item.value},on:{blur:function(e){return t.handleEditRecordValue(e,s.item.id)}}}):e("span",[t._v(t._s(s.item.value))])]}},{key:"cell(money)",fn:function(e){return[t._v(" "+t._s(e.item.value*t.hourlyRate)+" pln ")]}},{key:"cell(actions)",fn:function(s){return[e("b-button",{staticClass:"mr-2",attrs:{variant:"info",disabled:t.isRecordEditMode},on:{click:function(e){return t.handleEnableRecordEditMode(s.item.id)}}},[t._v(" Edit ")]),e("b-button",{staticClass:"mr-2",attrs:{variant:"dark"},on:{click:function(e){return t.handleRemoveRecord(s.item.id)}}},[t._v(" Delete ")])]}},{key:"custom-foot",fn:function(){return[e("tr",[e("th",[e("b-form-datepicker",{attrs:{"date-format-options":{year:"numeric",month:"numeric",day:"numeric"},autofocus:"",locale:"pl-PL"},model:{value:t.newRecordDate,callback:function(e){t.newRecordDate=e},expression:"newRecordDate"}})],1),e("th",[e("b-form-input",{staticClass:"value-input",attrs:{type:"number"},on:{blur:function(e){return t.handleAddRecord(s.id)}},model:{value:t.newRecordValue,callback:function(e){t.newRecordValue=e},expression:"newRecordValue"}})],1),e("th"),e("th")]),e("tr",[e("th"),e("th",[t._v(t._s(t.totalHours)+" hours")]),e("th",[t._v(t._s(t.totalMoney)+" pln")]),e("th")])]},proxy:!0}],null,!0)})],1),e("Tips",{attrs:{"list-id":s.id}})],1)})),1)],1)},c=[],u=s(536);const p=t=>{const e=localStorage.getItem(t);return JSON.parse(e)},f=(t,e)=>{const s=JSON.stringify(e);localStorage.setItem(t,s)},h="lists/SET_LISTS",m="lists/LOAD_LISTS",v="lists/SAVE_LISTS",y="lists/REMOVE_LIST",b="lists/ADD_LIST",_="lists/EDIT_LIST",g={lists:[{id:(0,u.Z)(),name:"Default list 1"},{id:(0,u.Z)(),name:"Default list 2"},{id:(0,u.Z)(),name:"Default list 3"}],listsLoaded:!1},T={getListById:t=>e=>t.lists.find((({id:t})=>t===e)),lists:t=>t.lists},R={[h](t,e){t.lists=e,t.listsLoaded=!0},[y](t,e){t.lists=t.lists.filter((t=>t.id!==e))},[b](t,e){t.lists.push({...e,id:(0,u.Z)()})},[_](t,e){const s=t.lists.find((t=>t.id===e.id));Object.assign(s,e)}},E={async[b](t,e){t.commit(b,e),await t.dispatch(v)},async[y](t,e){t.commit(y,e),await t.dispatch(v)},async[_](t,e){t.commit(_,e),await t.dispatch(v)},async[m](t){const e=p("lists");e?t.commit(h,e):await t.dispatch(v)},async[v](t){f("lists",t.state.lists)}};var S={state:g,getters:T,mutations:R,actions:E};const I="records/SET_RECORDS",w="records/SAVE_RECORDS",L="records/LOAD_RECORDS",k="records/ADD_RECORD",D="records/EDIT_RECORD",x="records/REMOVE_RECORD",C={records:[]},O={getListRecords:t=>e=>t.records.filter((t=>t.listId===e))},M={[I](t,e){t.records=e},[k](t,e){const s={...e,id:(0,u.Z)()};t.records.push(s)},[D](t,e){const s=t.records.find((t=>t.id===e.id));Object.assign(s,e)},[x](t,e){t.records=t.records.filter((({id:t})=>t!==e))}},A={async[k](t,e){t.commit(k,e),await t.dispatch(w)},async[D](t,e){t.commit(D,e),await t.dispatch(w)},async[x](t,e){t.commit(x,e),await t.dispatch(w)},async[L](t){const e=p("records");e&&t.commit(I,e)},[w](t){f("records",t.state.records)}};var P={state:C,getters:O,mutations:M,actions:A},V=function(){var t=this,e=t._self._c;return e("div",[e("b-form-tags",{staticClass:"mb-2",attrs:{"no-outer-focus":""},scopedSlots:t._u([{key:"default",fn:function({inputAttrs:s,inputHandlers:i}){return[e("b-input-group",{staticClass:"root"},[e("input",t._g(t._b({staticClass:"form-control",attrs:{placeholder:"Tip",type:"number"},on:{blur:function(e){return t.addTip(s)}}},"input",s,!1),i)),e("b-input-group-append",[e("b-form-select",{staticClass:"tip-type-select",attrs:{options:t.tipTypes},nativeOn:{"!click":function(t){t.stopPropagation()}},model:{value:t.selectedTipType,callback:function(e){t.selectedTipType=e},expression:"selectedTipType"}}),e("b-button",{attrs:{variant:"primary"},on:{click:function(e){return t.addTip(s)}}},[t._v(" Add ")])],1)],1),e("ul",{staticClass:"list-unstyled d-inline-flex flex-wrap mb-0",attrs:{"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions removals"}},t._l(t.tips,(function(s){return e("b-card",{key:s.id,staticClass:"mt-2 mr-2",attrs:{id:s.id,tag:"li","body-class":"py-1 px-2 text-nowrap d-flex align-items-center"}},[e("strong",[t._v(t._s(s.type)+" "+t._s(s.value)+" pln")]),e("b-icon",{staticClass:"ml-4",attrs:{icon:"trash",role:"button","aria-label":"Remove tip"},on:{click:function(e){return t.removeTip(s.id)}}}),e("b-tooltip",{attrs:{target:s.id,triggers:"hover"}},[t._v(" Date: "+t._s(new Date(s.date).toLocaleDateString("pl-PL"))+" ")])],1)})),1)]}}])}),t.total>0?e("p",[t._v(" Total tips: "),e("b",[t._v(t._s(t.total)+" pln")])]):t._e()],1)},Z=[];const N="tips/ADD_TIP",j="tips/REMOVE_TIP",H="tips/SET_TIPS",B="tips/SAVE_TIPS",G="tips/LOAD_TIPS",J={tips:[]},z={getListTips:t=>e=>t.tips.filter((t=>t.listId===e)),getListTipsByType:t=>(e,s)=>t.tips.filter((t=>t.listId===e&&t.type===s))},F={[H](t,e){t.tips=e},[N](t,e){const s={...e,id:(0,u.Z)()};t.tips.push(s)},[j](t,e){t.tips=t.tips.filter((({id:t})=>t!==e))}},U={async[N](t,e){t.commit(N,e),await t.dispatch(B)},async[j](t,e){t.commit(j,e),await t.dispatch(B)},async[G](t){const e=p("tips");e&&t.commit(H,e)},[B](t){f("tips",t.state.tips)}};var X={state:J,getters:z,mutations:F,actions:U},Y=[{value:"cash",text:"Cash"},{value:"card",text:"Card"}],$={props:["listId"],data:function(){return{selectedTipType:Y[0].value,tipTypes:Y}},computed:{...(0,l.Se)(["getListTips"]),tips(){return this.getListTips(this.listId)},total(){return this.tips.reduce(((t,e)=>t+e.value),0)}},methods:{addTip(t){if(0===t.value.length)return;const e={value:+t.value,date:(new Date).toISOString(),listId:this.listId,type:this.selectedTipType};this[N](e),t.value=""},removeTip(t){this[j](t)},...(0,l.nv)([N,j])}},q=$,K=s(1001),Q=(0,K.Z)(q,V,Z,!1,null,"7f3b6507",null),W=Q.exports,tt={name:"NavList",components:{Tips:W},data:function(){return{focusedIndex:0,focusedRecordId:void 0,isEditMode:!1,isCreateMode:!1,isRecordEditMode:!1,newRecordDate:(new Date).toISOString(),newRecordValue:"",fields:[{key:"date"},{key:"value",label:"Number of hours"},"money","actions"]}},computed:{...(0,l.Se)(["lists","getListRecords","hourlyRate"]),records(){const t=this.lists[this.focusedIndex].id;return this.getListRecords(t).sort(((t,e)=>new Date(t.date).getTime()-new Date(e.date).getTime()))},totalMoney(){return this.records.reduce(((t,e)=>t+e.value*this.hourlyRate),0)},totalHours(){return this.records.reduce(((t,e)=>t+e.value),0)}},methods:{handleEnableEditMode(t){t===this.focusedIndex&&(this.isEditMode=!0)},handleEnableRecordEditMode(t){this.isRecordEditMode=!0,this.focusedRecordId=t},handleAddList(t){if(this.isCreateMode=!1,!t.target.value)return;const e={name:t.target.value};this[b](e)},handleRemoveList(t){this[y](t)},handleEditListName(t,e){if(this.isEditMode=!1,!t.target.value)return;const s=this.lists.find((t=>t.id===e)),i={...s,name:t.target.value};this[_](i)},handleAddRecord(t){const e={value:+this.newRecordValue,date:this.newRecordDate,listId:t};this[k](e),this.newRecordValue="",this.newRecordDate=(new Date).toISOString()},handleRemoveRecord(t){this[x](t)},handleEditRecordDate(t,e){const s=this.records.find((t=>t.id===e)),i={...s,date:t.target.value};this[D](i)},handleEditRecordValue(t,e){const s=this.records.find((t=>t.id===e)),i={...s,value:+t.target.value};this[D](i),this.isRecordEditMode=!1,this.focusedRecordId=void 0},...(0,l.nv)([_,b,y,k,D,x])}},et=tt,st=(0,K.Z)(et,d,c,!1,null,"091ccf3a",null),it=st.exports,nt=function(){var t=this,e=t._self._c;return e("div",{staticClass:"settings-container d-flex mb-2 align-self-end"},[e("b-input-group",{attrs:{size:"lg",prepend:"Hourly rate",append:"PLN"}},[e("b-form-input",{attrs:{type:"number",value:t.hourlyRate},on:{change:t.handleEditHourlyRate}})],1)],1)},rt=[];const at="settings/EDIT_HOURLY_RATE",ot="settings/SET_SETTINGS",lt="settings/SAVE_SETTINGS",dt="settings/LOAD_SETTINGS",ct={hourlyRate:15},ut={hourlyRate:t=>t.hourlyRate},pt={[ot](t,e){t.settings=e},[at](t,e){t.hourlyRate=e}},ft={async[at](t,e){t.commit(at,e),await t.dispatch(lt)},async[dt](t){const e=p("settings");t.commit(ot,e)},[lt](t){f("settings",t.state.settings)}};var ht={state:ct,getters:ut,mutations:pt,actions:ft},mt={computed:{...(0,l.Se)(["hourlyRate"]),records(){const t=this.lists[this.focusedIndex].id,e=this.getListRecords(t);return e}},methods:{handleEditHourlyRate(t){this[at](t)},...(0,l.nv)([at])}},vt=mt,yt=(0,K.Z)(vt,nt,rt,!1,null,"396cf338",null),bt=yt.exports,_t=function(){var t=this,e=t._self._c;return e("div",{staticClass:"mt-4"},[e("p",[t._v(" Total Hours: "),e("b",[t._v(t._s(t.totalHours)+" hours")])]),e("p",[t._v(" Total Tips: "),e("b",[t._v(t._s(t.totalCashTips)+" pln")]),t._v(" cash + "),e("b",[t._v(t._s(t.totalCardTips)+" pln")]),t._v(" card = "),e("b",[t._v(t._s(t.totalTips)+" pln")])]),e("p",[t._v(" Total Money: "),e("b",[t._v(t._s(t.totalMoney)+" pln")]),t._v(" salary + "),e("b",[t._v(t._s(t.totalTips)+" pln")]),t._v(" tips = "),e("b",[t._v(t._s(t.totalMoney+t.totalTips)+" pln")])])])},gt=[],Tt={computed:{...(0,l.Se)(["lists","getListRecords","hourlyRate","getListTipsByType"]),totalHours(){return this.lists.reduce(((t,e)=>{const s=this.getListRecords(e.id);return t+s.reduce(((t,e)=>t+e.value),0)}),0)},totalCardTips(){return this.lists.reduce(((t,e)=>{const s=this.getListTipsByType(e.id,"card");return t+s.reduce(((t,e)=>t+e.value),0)}),0)},totalCashTips(){return this.lists.reduce(((t,e)=>{const s=this.getListTipsByType(e.id,"cash");return t+s.reduce(((t,e)=>t+e.value),0)}),0)},totalTips(){return this.totalCardTips+this.totalCashTips},totalMoney(){return this.totalHours*this.hourlyRate}}},Rt=Tt,Et=(0,K.Z)(Rt,_t,gt,!1,null,"cb5cc29e",null),St=Et.exports,It={name:"App",components:{Settings:bt,NavList:it,Totals:St},created(){this[dt](),this[m](),this[L](),this[G]()},methods:{...(0,l.nv)([dt,m,L,G])}},wt=It,Lt=(0,K.Z)(wt,a,o,!1,null,null,null),kt=Lt.exports;i["default"].use(l.ZP);const Dt={},xt={},Ct={},Ot={},Mt=new l.ZP.Store({strict:!1,state:Dt,getters:xt,mutations:Ct,actions:Ot,modules:{lists:S,records:P,tips:X,settings:ht}});var At=Mt;i["default"].config.productionTip=!1,i["default"].use(n.XG7),i["default"].use(r.A7),new i["default"]({store:At,render:t=>t(kt)}).$mount("#app")}},e={};function s(i){var n=e[i];if(void 0!==n)return n.exports;var r=e[i]={exports:{}};return t[i](r,r.exports,s),r.exports}s.m=t,function(){var t=[];s.O=function(e,i,n,r){if(!i){var a=1/0;for(c=0;c<t.length;c++){i=t[c][0],n=t[c][1],r=t[c][2];for(var o=!0,l=0;l<i.length;l++)(!1&r||a>=r)&&Object.keys(s.O).every((function(t){return s.O[t](i[l])}))?i.splice(l--,1):(o=!1,r<a&&(a=r));if(o){t.splice(c--,1);var d=n();void 0!==d&&(e=d)}}return e}r=r||0;for(var c=t.length;c>0&&t[c-1][2]>r;c--)t[c]=t[c-1];t[c]=[i,n,r]}}(),function(){s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,{a:e}),e}}(),function(){s.d=function(t,e){for(var i in e)s.o(e,i)&&!s.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})}}(),function(){var t={143:0};s.O.j=function(e){return 0===t[e]};var e=function(e,i){var n,r,a=i[0],o=i[1],l=i[2],d=0;if(a.some((function(e){return 0!==t[e]}))){for(n in o)s.o(o,n)&&(s.m[n]=o[n]);if(l)var c=l(s)}for(e&&e(i);d<a.length;d++)r=a[d],s.o(t,r)&&t[r]&&t[r][0](),t[r]=0;return s.O(c)},i=self["webpackChunklistio"]=self["webpackChunklistio"]||[];i.forEach(e.bind(null,0)),i.push=e.bind(null,i.push.bind(i))}();var i=s.O(void 0,[998],(function(){return s(1025)}));i=s.O(i)})();
//# sourceMappingURL=app.774bf125.js.map